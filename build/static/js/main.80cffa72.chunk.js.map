{"version":3,"sources":["common/validations/baseValidation.ts","common/validations/amexValidation.ts","common/validations/visaValidation.ts","modules/cardForm/partials/cardDetails.tsx","modules/cardForm/partials/cardImages.tsx","modules/cardForm/cardForm.tsx","layout/content.tsx","App.tsx","index.tsx"],"names":["BaseValidation","validateName","name","regex","result","test","validateExpM","expM","validateExpY","expY","year","Date","getFullYear","AmexValidation","validateCardNumber","number","toString","length","validateCcv2","VisaValidation","CardDetails","formState","setHasErrors","updateFormState","useDebounce","cardNumber","ccv2","errors","setErrors","visaValidation","amexValidation","useEffect","validation","console","log","Object","values","every","value","updateValue","event","target","className","type","placeholder","onChange","disabled","CardImages","src","alt","CardForm","useState","setFormState","hasErrors","loading","setLoading","onClick","setTimeout","Content","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.80cffa72.chunk.js","sourcesContent":["export class BaseValidation {\n  public validateName = (name = '') => {\n    if (name === '') {\n      return null;\n    }\n    const regex = /^[\\w'\\-,.][^0-9_!¡?÷?¿/\\\\+=@#$%ˆ&*(){}|~<>;:[\\]]{2,}$/;\n    const result = regex.test(name);\n\n    if (result) {\n      return null;\n    }\n    return 'Please enter your name.'\n  }\n\n  public validateExpM = (expM?: number) => {\n    if (!expM && expM !== 0) {\n      return null\n    }\n\n    if (expM > 0 && expM <= 12) {\n      return null\n    }\n\n    return 'Please enter a month between 1 - 12.'\n  }\n\n  public validateExpY = (expY?: number) => {\n    const year = new Date().getFullYear();\n    if (!expY && expY !== 0) {\n      return null\n    }\n\n    if (expY >= year && expY <= year+8) {\n      return null\n    }\n\n    return `Please enter a year between ${year} - ${year+8}`\n  }\n}\n\nexport default BaseValidation;","import { BaseValidation } from './baseValidation';\n\nexport class AmexValidation extends BaseValidation {\n\n  public validateCardNumber = (number?: number) => {\n    if (!number && number !== 0) {\n      return null;\n    }\n\n    if (\n      number.toString()[0] === '3' \n      && (number.toString()[1] === '4' || number.toString()[1] === '7')  \n      && number.toString().length === 15) {\n      return null;\n    }\n\n    return \"Please enter correct card number.\";\n  }\n\n  public validateCcv2 = (number?: number) => {\n    if (!number && number !== 0) {\n      return null;\n    }\n\n    if (number > 999 && number < 10000) {\n      return null;\n    }\n\n    return \"Please enter CCV2.\"\n  }\n}\n\nexport default AmexValidation;","import { BaseValidation } from './baseValidation';\n\nexport class VisaValidation extends BaseValidation {\n\n  public validateCardNumber = (number?: number) => {\n    if (!number && number !== 0) {\n      return null;\n    }\n\n    if (number.toString()[0] === '4' && number.toString().length === 16) {\n      return null;\n    }\n\n    return \"Please enter correct card number.\";\n  }\n\n  public validateCcv2 = (number?: number) => {\n    if (!number && number !== 0) {\n      return null;\n    }\n\n    if (number > 99 && number < 1000) {\n      return null;\n    }\n\n    return \"Please enter CCV2.\"\n  }\n}\n\nexport default VisaValidation","import React, { useEffect } from 'react';\nimport { useDebounce } from '@react-hook/debounce'\nimport AmexValidation from '../../../common/validations/amexValidation';\nimport VisaValidation from '../../../common/validations/visaValidation';\nimport { IFormState, IError } from '../types';\nimport './cardDetails.css'\n\nexport interface ICardDetails {\n  formState: IFormState;\n  setHasErrors: (hasErrors: boolean) => void;\n  updateFormState: (formState: IFormState) => void;\n}\nexport const CardDetails = ({\n  formState,\n  setHasErrors,\n  updateFormState,\n}: ICardDetails) => {\n  const [errors, setErrors] = useDebounce<IError>({ \n    name: null,\n    cardNumber: null,\n    ccv2: null,\n    expM: null,\n    expY: null\n  }, 750)\n  const visaValidation = new VisaValidation();\n  const amexValidation = new AmexValidation();\n\n  useEffect(() => {\n    let validation = null;\n    const cardNumber = formState?.cardNumber;\n    if (cardNumber && cardNumber.toString()[0] === '3') {\n      // Use Amex validation\n      validation = amexValidation;\n    } else if (cardNumber && cardNumber.toString()[0] === '4') {\n      // Use Visa validation\n      validation = visaValidation;\n    } else {\n      // It doesn't matter... just using Visa\n      validation = visaValidation\n    }\n\n    setErrors({\n      name: validation.validateName(formState.name) || null,\n      cardNumber: validation.validateCardNumber(formState.cardNumber) || null,\n      ccv2: validation.validateCcv2(formState.ccv2) || null,\n      expM: validation.validateExpM(formState.expM) || null,\n      expY: validation.validateExpY(formState.expY) || null,\n    })\n    console.log(\"has errors\", (Object.values(errors)).every((value: any) => value === null))\n    setHasErrors((Object.values(errors)).every((value: any) => value === null))\n  }, [formState])\n\n  const updateValue = (event: React.FormEvent) => {\n    const target = event.target as HTMLSelectElement;\n    updateFormState({\n      ...formState,\n      [target.name]: target.value,\n    })\n  }\n  return (\n    <div className=\"cardDetails flex-column\">\n\n      <div className=\"flex-row\">\n        <input \n          className=\"cardDetails--input c12\"\n          type=\"text\" \n          name=\"name\"\n          placeholder=\"Name\" \n          value={formState.name}\n          onChange={updateValue}\n        />\n        <div className=\"cardDetails--error\">\n          {errors.name}\n        </div>\n      </div>\n\n      <div className=\"flex-row\">\n        <input \n          className=\"cardDetails--input c12\"\n          type=\"number\" \n          name=\"cardNumber\"\n          placeholder=\"Card Number\" \n          value={formState.cardNumber}\n          onChange={updateValue}\n        />\n        <div className=\"cardDetails--error\">\n          {errors.cardNumber}\n        </div>\n      </div>\n\n      <div className=\"flex-row\">\n        <input \n          className=\"cardDetails--input c12\"\n          type=\"number\" \n          name=\"ccv2\"\n          placeholder=\"CCV2\" \n          onChange={updateValue}\n          value={formState.ccv2}\n          disabled={!formState.cardNumber}\n        />\n        <div className=\"cardDetails--error\">\n          {errors.ccv2}\n        </div>\n      </div>\n\n      <div className=\"flex-row\">\n        <input \n          className=\"cardDetails--input c6\"\n          type=\"number\"\n          name=\"expM\"\n          placeholder=\"Exp. Month\" \n          value={formState.expM}\n          onChange={updateValue}\n        />\n        <input \n          className=\"cardDetails--input c6\"\n          type=\"number\"\n          name=\"expY\"\n          placeholder=\"Exp. Year\" \n          value={formState.expY}\n          onChange={updateValue}\n        />\n        <div className=\"cardDetails--error\">\n          {`${errors.expM ? errors.expM : ''} ${errors.expY ? errors.expY : ''}`}\n        </div>\n      </div>\n\n    </div>\n  );\n}\n\nexport default CardDetails","import * as React from 'react';\nimport './cardImages.css'\n\nexport const CardImages = () => {\n\n  return (\n    <div>\n      <img src=\"https://www.merchantequip.com/image/?logos=v&height=64\"/>\n      <img className=\"coming-soon\" src=\"https://www.merchantequip.com/image/?logos=m&height=64\" alt=\"Not implemented\"/>\n      <img src=\"https://www.merchantequip.com/image/?logos=a&height=64\"/>\n      <img className=\"coming-soon\" src=\"https://www.merchantequip.com/image/?logos=d&height=64\" alt=\"Not implemented\"/>\n    </div>\n  );\n}\n\nexport default CardImages","import React, { useState } from 'react';\nimport './cardForm.css'\nimport { IFormState } from './types';\nimport { CardDetails } from './partials/cardDetails';\nimport { CardImages } from './partials/cardImages';\n\nexport const CardForm = () => {\n  const [formState, setFormState] = useState<IFormState>({})\n  const [hasErrors, setHasErrors] = useState<boolean>(true)\n  const [loading, setLoading] = useState<boolean>(false)\n\n  const onSubmit = () => {\n    setLoading(true)\n    setTimeout(() => {\n      setLoading(false)\n    }, 1500)\n  }\n\n  return (\n    <div className=\"cardForm\">\n      <div className=\"cardForm--container\">\n        <h3>Enter your credit card information</h3>\n        <div className=\"cardForm--max-width\">\n          <CardDetails \n            formState={formState} \n            updateFormState={setFormState}\n            setHasErrors={setHasErrors}\n          />\n        </div>\n        <CardImages />\n        <div className=\"cardForm--max-width\">\n          <button \n            className=\"cardForm--submit--button\" \n            onClick={onSubmit}\n            disabled={hasErrors}\n          >\n            { loading && (\n              <div className=\"loader\"></div>\n            )}\n            {!loading && (\n              <span>Submit</span>\n            )}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default CardForm","import * as React from 'react';\nimport './content.css'\nimport { CardForm } from '../modules/cardForm/cardForm';\n\nexport const Content = () => {\n\n  return (\n    <main className=\"content\">\n      <div>\n        <CardForm />\n      </div>\n    </main>\n  );\n}\n\nexport default Content","import './App.css';\nimport { Content } from './layout/content';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Content />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}